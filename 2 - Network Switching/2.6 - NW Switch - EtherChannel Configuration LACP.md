# Network Switching - EtherChannel Configuration using LACP

+ **Link Aggregration Control Protocol**: 
	+ IEEE protocol 802.3ad.
	+ Enables Cisco switches (and other network devices) to automatically aggregrate/bundle multiple physical ethernet ports/links into a single, high-bandwidth, logical channel known as *Port Channel* or *Link Aggregation Group*.
+ LACP Features include:
	+ Automatic Port Channel Creation: LACP exchanges control packets between Ethernet ports to automatically identify partners that support the standard and to form dynamic Port Channels. 
	+ Negotiation and Configuration: LACP enables ports to negotiate their capabilities, such as speed, duplex mode, and VLAN configuration, to ensure that only compatible ports are bundled into the same channel. 
	+ Maintaing Port Status: LACP maintains a dynamic link state for each aggregated port, ensuring that traffic is automatically redistributed over the remaining operational links if a port fails. 
	+ Prevent Packet Reordering and Duplication: LACP uses a Marker Protocol to ensure that all frames of a trafic flow are successfully received before traffic is redistributed across the newly adjusted channel.
+ LACP shares the same benefits as PAgP, but includes *Simplified Management*; it automatically configures and manages the aggregation of links.
+ LACP supports 4 different modes to configure the interfaces:
	+ _ON_: The interface will be part of the EtherChannel but no negotiation takes place.
	+ _Active_: Interface will continuously attempt to convert other side interface into an EtherChannel.
	+ _Passive_: Interface will become part of the EtherChannel if and only if it requested by the opposite side.
	+ _OFF_: No EtherChannel configured on the interface.
+ Supported EtherChannel combinations:
	+ Active - Active
	+ Active - Passive 
	+ Passive - Active

### Tasks
1. Create VLAN topology in Packet Tracer
2. ID trunk links and config LACP channel group number and mode.
	+ Both sides must have the same channel group number.
	+ Only supported mode combinations: Active/Passive or Active/Active (not Passive/Passive.
3. Set the channel group number as the trunk interface.
4. Display EtherChannel info using: `sh etherchannel`

#### Step 2
**Switch 0**
! Interfaces: fa0/1-3 - fa0/1-3

! Basic Config
conf t
hostname SW0
ban motd ^Unauthorised Access is Prohibited. All Activity is Logged.^
enable password cisco123
service password-encryption
int range f0/1-3
! Config LACP Channel 1
channel-group 1 mode active
exit
int port-channel 1
switchport mode trunk
exit
! Confirm etherchannel configurations
do sh etherchannel


**Switch 1**
! Interfaces: fa0/4-6 - g1/0/1-3

! Basic Config
conf t
hostname SW1
ban motd ^Unauthorised Access is Prohibited. All Activity is Logged.^
enable password cisco123
service password-encryption

! Config LACP Channel 1
int range f0/1-3
channel-group 1 mode passive
exit
int port-channel 1
switchport mode trunk
exit
! Confirm etherchannel configurations
do sh etherchannel

! Config LACP Channel 2
int range f0/4-6
channel-group 2 mode active
exit
int port-channel 2
switchport mode trunk
exit
! Confirm etherchannel configurations
do sh etherchannel




**MLSW1**
! Basic Config
conf t
hostname MLSW1
ban motd ^Unauthorised Access is Prohibited. All Activity is Logged.^
enable password cisco123
service password-encryption

! Config LACP Channel 2
int range g1/0/1-3
channel-group 2 mode passive
exit
int port-channel 2
switchport mode trunk
exit
! Confirm etherchannel configurations
do sh etherchannel

! Config LACP Channel 3
int range g1/0/4-6
channel-group 3 mode active
exit
int port-channel 3
switchport mode trunk
exit
! Confirm etherchannel configurations
do sh etherchannel



**Switch 2**
! Interfaces: fa0/1-3 - g1/0/4-6

! Basic Config
conf t
hostname SW2
ban motd ^Unauthorised Access is Prohibited. All Activity is Logged.^
enable password cisco123
service password-encryption

! Config LACP Channel 3
int range f0/1-3
channel-group 3 mode passive
exit
int port-channel 3
switchport mode trunk
exit
! Confirm etherchannel configurations
do sh etherchannel

! Config LACP Channel 4
int range f0/4-6
channel-group 4 mode active
exit
int port-channel 4
switchport mode trunk
exit
! Confirm etherchannel configurations
do sh etherchannel



**Switch 3**
! Interfaces: fa0/4-6 - fa0/1-3

! Basic Config
conf t
hostname SW3
ban motd ^Unauthorised Access is Prohibited. All Activity is Logged.^
enable password cisco123
service password-encryption

! Config LACP Channel 4
int range f0/1-3
channel-group 4 mode passive
exit
int port-channel 4
switchport mode trunk
exit
! Confirm etherchannel configurations
do sh etherchannel