# Network Switching - Secure Unused Switchports

+ Best Practice: secure unused ports to reduce network attack surface area and reduce network vulnerabilities.


### Tasks
1. Create VLAN topology in Packet Tracer
2. Create VLANs
3. Create blackhole/VLAN
4. ID all usable ports & assign them respective VLANs
5. ID all unused ports, assign them to the blackhole VLAN and shut them down
6. ID & config trunk links then deny the blackhole VLAN through it
7. Display trunk info using: `sh int trunk`
8. Pentest unused ports

#### Step 2 & 3 - Create VLANs
**Switch 0**
VLAN 10 - Fa0/1-3
VLAN 20 - Fa0/4-6
VLAN 30 - Fa0/7-9

! Basic Config
conf t
hostname SW0
ban motd ^Unauthorised Access is Prohibited. All Activity is Logged.^
enable password cisco123
service password-encryption
no ip domain-lookup
ip domain-name domain.com

!VLAN Configuration
vlan 10
name HR
exit
vlan 20
name FIN
exit
vlan 30
name PR
exit
vlan 999
name blackhole
exit
do sh vlan

do wr


**Switch 1**
VLAN 10 - Fa0/1-3
VLAN 20 - Fa0/4-6
VLAN 30 - Fa0/7-9

! Basic Config
conf t
hostname SW1
ban motd ^Unauthorised Access is Prohibited. All Activity is Logged.^
enable password cisco123
service password-encryption
no ip domain-lookup
ip domain-name domain.com

!VLAN Configuration
vlan 10
name HR
exit
vlan 20
name FIN
exit
vlan 30
nam PR
exit
vlan 999
name blackhole
exit
do sh vlan

do wr



#### Step 4 & 5 - Assign Ports to VLANs
**Switch 0**
!Configure Ports on Switch0
int range f0/1-3
switchport mode access
switchport access vlan 10
exit
int range f0/4-6
switchport mode access
switchport access vlan 20
exit
int range f0/7-9
switchport mode access
switchport access vlan 30
exit
int range f0/10-21, g0/1-2
switchport mode access
switchport access vlan 999
shutdown
exit
do sh vlan

do wr

**Switch 1**
!Configure Ports on Switch1
int range f0/1-3
switchport mode access
switchport access vlan 10
exit
int range f0/4-6
switchport mode access
switchport access vlan 20
exit
int range f0/7-9
switchport mode access
switchport access vlan 30
exit
int range f0/10-21, g0/1-2
switchport mode access
switchport access vlan 999
shutdown
exit
do sh vlan

do wr



#### Step 6 - Inter-Switch EtherChannel Trunk Config
SW0 + SW1 - fa0/22-24

**Switch 0**
! Interfaces: fa0/22-24
!Config Trunks
conf t
int range f0/22-24
! Config LACP Channel 1
channel-group 1 mode active
exit
! Config Trunk
int port-channel 1
switchport mode trunk
! Deny VLAN 999 on trunk link
switchport trunk allowed vlan except 999
exit
! Confirm  configurations
do sh etherchannel
do sh vlan

exit
sh int trunk

do wr


**Switch 1**
! Interfaces: fa0/22-24
!Config Trunks
conf t
int range f0/22-24
! Config LACP Channel 1
channel-group 1 mode active
exit
! Config Trunk
int port-channel 1
switchport mode trunk
! Deny VLAN 999 on trunk link
switchport trunk allowed vlan except 999
exit
! Confirm  configurations
do sh etherchannel
do sh vlan
exit
sh int trunk

do wr

