# Network Switching - VLANs

## Segmentation/Virtual LANs (VLANs)
+ Segmentation - overall practice of dividing a network into smaller, isloated segments for security and performance.
+ VLANs - specific tool or method to achieve logical network segmentation at Layer 2 (Data Link) to group devices into separate broadcast domains over a shared physical infrastructure.
+ IEEE 802.1Q - a networking standard that supports VLANs on an IEEE 802.3 Ethernet network.
+ [Cisco Press: Troubleshooting VLANs](https://www.ciscopress.com/articles/article.asp?p=3089357&seqNum=7)

### Tasks
1. Create VLAN topology in Packet Tracer
2. Assign PC/Endpoints IPs as per their VLANs
3. Config switches & create VLANs on the switch
4. Identify switchports and assign them to VLANs IDs
5. Identify & Configure trunk ports between switches
6. Test comms between VLANs


#### Step 3 - Switch Config & VLAN Creation
**Switch 0**
en
conf t
hostname SW0
ban motd ^Unauthorised Access is Prohibited. All Activity is Logged.^
enable password cisco123
line con 0
password cisco987
login
exec-timeout 3 0
logg syn
exit
line VTY 0 15
password cisco987
login
exec-timeout 3 0
logg syn
exit
no ip domain-lookup
ip domain-name domain.com
username admin password password-0
service password-encryption
exit
clock set 14:04:00 04 September 2025
wr

**Switch 1**
en
conf t
hostname SW1
ban motd ^Unauthorised Access is Prohibited. All Activity is Logged.^
enable password cisco123
line con 0
password cisco987
login
exec-timeout 3 0
logg syn
exit
line VTY 0 15
password cisco987
login
exec-timeout 3 0
logg syn
exit
no ip domain-lookup
ip domain-name domain.com
username admin password password-0
service password-encryption
exit
clock set 14:04:00 04 September 2025
wr

**VLAN Configuration**
en
conf t
vlan 10
name VLAN10
exit
vlan 20
name VLAN20
exit
vlan 30
nam VLAN30
exit

do sh vlan

do wr

#### Step 4 - Assign VLAN IDs to switchport
**Switch 0**
VLAN 10 - PC0:f0/1 PC1:f0/2
VLAN 20 - PC3:f0/3 PC4:f0/4
VLAN 30 - PC5:f0/5 PC6:f0/6

!Configure Ports on Switch0
int range f0/1-2
switchport mode access
switchport access vlan 10
exit
int range f0/3-4
switchport mode access
switchport access vlan 20
exit
int range f0/5-6
switchport mode access
switchport access vlan 30
exit
do sh vlan

do wr

**Switch 1**
VLAN 20 - PC7:f0/7 PC8:f0/6
VLAN 10 - PC10:f0/5 PC9:f0/4
VLAN 30 - PC11:f0/2 PC12:f0/3

!Configure Ports on Switch1
int range f0/6-7
switchport mode access
switchport access vlan 20
exit
int range f0/4-5
switchport mode access
switchport access vlan 10
exit
int range f0/2-3
switchport mode access
switchport access vlan 30
exit
do sh vlan
do wr

#### Step 5 - Config Network Switch Trunks
SW0 - fa0/7
SW1 - fa0/1

**Switch 0**
conf t
int f0/7
switchport mode trunk
exit
do sh vlan
do wr

**Switch 1**
conf t
int f0/1
switchport mode trunk
exit
do sh vlan
do wr

#### Step 6 - Verify comms between endpoints on the same VLANs
+ Endpoints on the same VLANs (& different switches) can communicate with each other.
+ Endpoints on different VLANs cannot communicate with each other; router required.


## Disable CDP on the Devices

## STP Attack Prevention

## VLAN Hoping Attack Prevention

## DHCP Snooping

## Dynamic ARP Inspection

## IP Source Guard

## Port Security

## ACL for VTY Interfaces