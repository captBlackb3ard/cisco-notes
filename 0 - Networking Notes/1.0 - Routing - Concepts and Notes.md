# Routing - Concepts & Notes

## Routing
+ **Routing** - the process of determining paths through a network for sending data packets; ensuring efficient movement from source to destination.
+ It is performed by Layer 3 (Network Layer) devices; it is an autonomous process handled by the network device to direct data packets to their intended destination.

### Types of Routing
1. **Static Routing**: (aka 'non-adaptive')
	+ Routing configuraiton is done manually by the network admin.
	+ _Floating Static Route_: A static route configured with higher Administrative Distance (AD) to serve as a backup path, activiting only whtn the preferred static (or dynamic) route fails.
	+ _Advantages_:
		- No routing CPU overhead processing allowing cheaper routers to be used.
		- It adds security because only an administrator can allow routing to specific networks.
		- No bandwidth usage between routers.
	+ _Disadvantages_:
		- Large networks will require loads of management and time from the network admin.
		- The network admin will need good knowledge of the network topology; new admins will need to spend time reviewing documentation and configurations to get the same or similar level of understanding.
2. **Default Routing**:
	+ Routers are configured to send all packets toward a single router (next hop).
	+ It does not matter to which network the packet belongs, it is forwarded out to the router which is configured for default routing.
	+ It is generally used with stub routers - which has only one route to reach all networks.
	+ _Advantages_:
		- It provides a 'last resort' route for packets that do no match any specific route in the routing table; ensuring packets are not dropped and delivered to the intended destination.
		- Simplifies network configuration by reducing the need for complex routing tables.
		- It improves network reliability and reduces packet loss.
	+ _Disadvantages_:
		- Relying solely on default routes can lead to inefficient routing.
		- Using default routes may introduces additional network latency.
3. **Dynamic Routing**:
	+ This type of routing makes automatic adjustments of the routes acording to teh current state of the route in the routing table.
	+ It uses protocols to discoer network destinations and the routes to reach them.
	+  RIP(Routing Information Protocol) and OSPF(Open Shortest Path First) are the best examples of dynamic routing protocols.
	+ Automatic adjustments are made to reach the destination network if one route goes down.
	+ It requires:
		- Routers must have the same dymanic protocols running in order to exchange routes.
		- If a router discovers a topology change, then the router advertises it to all other routers.
	+ _Advantages_:
		- Easy to configure.
		- More efficient & effective at selecting the best route to a destination remote network and discovering remote networks.
	+ _Disadvantages_:
		- Consumes more bandwidth while communicating with neighbours.
		- Less secure than static routing.

## Dymanic Routing Protocol Fundamentals

+ Dynamic routing involves the use of routing protocols that exchange routing information between routing devices.
+ Routing protocols perform these functions:
	- Discover new/remote networks.
	- Best path calculation to remote networks.
	- Updating the routing table.
	- Recalculating a new best path in case of failure of the current paths.
+ Routing protocols can be compared using these characteristics:
	- **Scalability**: How large a network can be if a particular routing protocol is used.
	- **Convergence Speed**: How fast routers exchange routing information and achieve a state of consistent information.
	- **Complexity**: Describes the level of knowledge required to implement and operate the particular routing protocol.
	- **Resource Usage**: The CPU and memory resources required to run the protocol.

## Types of Dynamic Routing Protocols

+ Dyamnic routing protocols fall into one of two categories:
	1. Interior Gateway Protocols (IGPs)
	2. Exterior Gateway Protocols (EGPs) 

### Interior Gateway Protocols (IGPs)

+ Operate _within_ a specific Autonomous System (AS); a set of routers under a common administration with common routing policies.
+ These protocols are further divide into: 
	- **Distance Vector Protocols**: 
		* Determine the best path based on distance (typically hop count - number of routers) between source and destination.
		* These routers are unaware of the network topology; it knows only about its directly connected networks and the remote networks it can reach via its neighbours.
		* Examples: Routing Information Protocol (RIPv2), and Interior Gateway Routing Protocol (IGRP).
	- **Link-State Protocols**: 
		* These protocols build a complete map of the network topology, allowing routers to have a detailed view of the entire AS.
		* Examples: Open Shortest Path First (OSPF), and IS-IS (Intermediate System to Intermediate System).
	- **Hybrid Protocols**: 
		* Combine characteristics of both distance-vector and link-state protocols, offering features from both.
		* Example: Cisco's proprietary Enhanced Interior Gateway Routing Protocol (EIGRP).

### Exterior Gateway Protocols (EGPs)

+ Operate _between_ ASes often the public internet.
+ **NOTE**: Do not confuse with the actual Exterior Gateway Protocol, superseded by the Border Gateway Protocol (BGP). 

+ **Path-Vector Protocols**: protocols focus on teh specific paths or sequences of ASes that a route traverses making the suitable for inter-AS routing.
+ Examples: Border Gateway Protocol (BGP) is the defacto standard for routing on the internet.


## Routing Metrics

+ Different routing protocols use different ways to calculate metrics. 
+ The metric calculated by one routing protocol cannot be compared to the metric calculated by another; thus they might not choose the same best path due to how they choose and calculate matrics.
+ For example, RIPv2 uses 'hop count' as a metric, and OSPF uses cost as a metric (tied to the bandwidth of the interface through which the remote destaination can be reached).

## Routing Comparison Table
| Protocol |       Type      |   Algorithm  |       Metric      | Convergence |   Scalability  |      Best Use Case     |
|:--------:|:---------------:|:------------:|:-----------------:|:-----------:|:--------------:|:----------------------:|
| RIP      | Distance Vector | Bellman-Ford | Hop Count         | Slow        | Low            | Small/simple networks  |
| OSPF     | Link-State      | Dijkstra     | Cost (Bandwidth)  | Fast        | High           | Enterprise networks    |
| EIGRP    | Hybrid          | DUAL         | Bandwidth + Delay | Very Fast   | High           | Cisco-based networks   |
| IS-IS    | Link-State      | Dijkstra     | Configurable Cost | Fast        | Very High      | ISP / backbone         |
| BGP      | Path Vector     | Policy-based | Path Attributes   | Slow        | Extremely High | Internet / multi-AS    |
| Static   | Manual          | N/A          | Admin-defined     | Immediate   | Low            | Small or stable routes |

## Additional Resources & Information
+ [Cisco - Routing Basics and Static Routes](https://www.cisco.com/c/en/us/td/docs/security/firepower/720/fdm/fptd-fdm-config-guide-720/fptd-fdm-routing.html)