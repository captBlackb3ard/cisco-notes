# Routing - Configure Single-Area Open Shortest Path First (OSPF)

**NOTE**: 
+ Refer to [0.0 Routing - Concepts & Notes](0.0 -  Routing - Concepts and Notes.md)
+ Refer to [0.0 Enhanced Interior Gateway Routing Protocol (EIGRP) Notes](0.0 - Routing - Open Shortest Path First (OSPF) Notes.md)


## Tasks
1. Create VLAN topology in Packet Tracer & Router/Switch/PCs Configuration.
2. Config Router & PC IP addresses
3. Config (single-area) OSPF on all routers to advertise directly connected networks.
4. Traceroute path between hosts.


## Configuration Commands
### Task 1 + 2 - Router, Switch, and PC Basic Config

**Switch 0**
```
! Basic Config
conf t
hostname SW0
ban motd ^Unauthorised Access is Prohibited. All Activity is Logged.^
enable password cisco123
service password-encryption
no ip domain-lookup
ip domain-name cybersec.com

do wr
```

**Switch 1**
```
! Basic Config
conf t
hostname SW1
ban motd ^Unauthorised Access is Prohibited. All Activity is Logged.^
enable password cisco123
service password-encryption
no ip domain-lookup
ip domain-name cybersec.com

do wr
```

**Switch 2**
```
! Basic Config
conf t
hostname SW2
ban motd ^Unauthorised Access is Prohibited. All Activity is Logged.^
enable password cisco123
service password-encryption
no ip domain-lookup
ip domain-name cybersec.com

do wr
```


**Router0**
```
! Router Config
conf t
hostname R0
enable password cisco123
service password-encryption
ban motd ^Unauthorised Access is Prohibited. All Activity is Logged.^
ip domain-name cisco.com
username admin password password123

! Config Interfaces
int g0/0
description Link to VLAN 3
ip add 192.168.3.1 255.255.255.0
no sh
exit
int g0/2
description Link to R2
ip add 10.10.10.1  255.255.255.252
no sh
exit
int g0/1
description Link to R1
ip add 30.30.30.1  255.255.255.252
no sh
exit

do wr
```

**Router1**
```
! Router Config
conf t
hostname R1
enable password cisco123
service password-encryption
ban motd ^Unauthorised Access is Prohibited. All Activity is Logged.^
ip domain-name cisco.com
username admin password password123

! Config Interfaces
int g0/1
description Link to R0
ip add 30.30.30.2  255.255.255.252
no sh
exit
int g0/0
description Link to R2
ip add 20.20.20.1  255.255.255.252
no sh
exit
int g0/2
description Link to VLAN 2
ip add 192.168.2.1 255.255.255.0
no sh
exit

do wr
```

**Router2**
```
! Router Config
conf t
hostname R2
enable password cisco123
service password-encryption
ban motd ^Unauthorised Access is Prohibited. All Activity is Logged.^
ip domain-name cisco.com
username admin password password123

! Config Interfaces
int g0/1
description Link to VLAN 1
ip add 192.168.1.1 255.255.255.0
no sh
exit
int g0/0
description Link to R1
ip add 20.20.20.2  255.255.255.252
no sh
exit
int g0/2
description Link to R3
ip add 10.10.10.2  255.255.255.252
no sh
exit

do wr
```

### Task 3 - Config OSPF on Routers

**Router0**
```
! Configure Process ID 20
router ospf 20
! Assign each router an ID 
router-id 3.3.3.3
!advertise the direct connected networks
network 192.168.3.0 0.0.0.255 area 0
network 10.10.10.0 0.0.0.3 area 0
network 30.30.30.0 0.0.0.3 area 0
exit

do wr

! View OSPF Config
do sh running-config | section router ospf
```

**Router1**
```
! Configure Process ID 20
router ospf 20
! Assign each router an ID 
router-id 2.2.2.2
!advertise the direct connected networks
network 192.168.2.0 0.0.0.255 area 0
network 20.20.20.0 0.0.0.3 area 0
network 30.30.30.0 0.0.0.3 area 0
exit

do wr

! View OSPF Config
do sh running-config | section router ospf
```

**Router2**
```
! Configure Process ID 20
router ospf 20
! Assign each router an ID 
router-id 1.1.1.1
!advertise the direct connected networks
network 192.168.1.0 0.0.0.255 area 0
network 20.20.20.0 0.0.0.3 area 0
network 10.10.10.0 0.0.0.3 area 0
exit

do wr

! View OSPF Config
do sh running-config | section router ospf
```


+ **NB**: Each router will display their respective messages upon convergence.

```
00:32:45: %OSPF-5-ADJCHG: Process 20, Nbr 2.2.2.2 on GigabitEthernet0/0 from LOADING to FULL, Loading Done

00:32:45: %OSPF-5-ADJCHG: Process 20, Nbr 2.2.2.2 on GigabitEthernet0/0 from LOADING to FULL, Loading Done

00:32:10: %OSPF-5-ADJCHG: Process 20, Nbr 3.3.3.3 on GigabitEthernet0/2 from LOADING to FULL, Loading Done
```

### Task 4 - Ping & Tracert PCs
+ From VLAN 1 PC (192.168.1.2)

```
C:\>tracert 192.168.2.2

Tracing route to 192.168.2.2 over a maximum of 30 hops: 

  1   0 ms      0 ms      0 ms      192.168.1.1
  2   0 ms      0 ms      0 ms      20.20.20.1
  3   0 ms      0 ms      0 ms      192.168.2.2

Trace complete.


C:\>tracert 192.168.3.2

Tracing route to 192.168.3.2 over a maximum of 30 hops: 

  1   0 ms      6 ms      0 ms      192.168.1.1
  2   0 ms      0 ms      0 ms      10.10.10.1
  3   0 ms      0 ms      0 ms      192.168.3.2

```