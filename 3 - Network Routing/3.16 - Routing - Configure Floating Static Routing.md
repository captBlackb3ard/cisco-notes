# Routing - Configure Floating Static Routing

+ Follow setup and configuration from `3.15 - Routing - Router Static Routing Config`

**NOTE**: Refer to [3.0 Routing - Concepts & Notes](3.0 -  Routing - Concepts and Notes.md) to setup the initial Packet Tracer topology and configured static routes.

## Tasks
1. Add another 2911 Router (South Korea - ROK) between Kenya & Japan, and config basics.
2. Config backup forward and backward floating static routes between Kenya and Japan, via South Korea.
3. Traceroute path from KEN-to-JPN.
4. Disable primary path & test comms: ping + traceroute.


### Task 1 - Add + Config South Korea Router
+ Configure ROK Router
+ Update the KEN + JPN Routers.

**Router ROK**
! Router Config
conf t
hostname R1-ROK
enable password cisco123
service password-encryption
ban motd ^Unauthorised Access is Prohibited. All Activity is Logged.^
ip domain-name cisco.com
username admin password password123

do wr

int g0/2
description Link to KEN Router
ip add 40.40.40.2 255.255.255.252
no sh
exit
int g0/0
description Link to JPN Router
ip add 50.50.50.2 255.255.255.252
no sh
exit

do wr

**Router KEN**
conf t
int g0/2
description Link to ROK Router
ip add 40.40.40.1 255.255.255.252
no sh
exit

do wr

**Router JPN**
conf t
int g0/2
description Link to ROK Router
ip add 50.50.50.1 255.255.255.252
no sh
exit

do wr


### Task 2 - Config Forward + Backward Floating Static Routes
+ Floating static routes use the IP address of the next hop
+ Floating routes have a default administrative distance of `1`; increase the value set to increase the administrive distance (AD).

**Router KEN**
! Set Final destination & next hop IP address with AD of 110
ip route 192.168.20.0 255.255.255.0 40.40.40.2 110
! Ignore default route gateway warning

! Last backward config from JPN not required

do wr


**Router ROK**
! Second forward static route interface
! ROK is not part of the primary route thus floating route is not set.
ip route 192.168.20.0 255.255.255.0 50.50.50.1

! Second backward floating static route
ip route  192.168.10.0 255.255.255.0 40.40.40.1

do wr


**Router JPN**
! Last forward config from KEN not required
! Set Backward Route - IP address of next hop (ROK Gateway/Int) with AD
ip route 192.168.10.0 255.255.255.0 50.50.50.2 110

do wr

### Task 3 - Traceroute path from KEN-to-JPN

+ Traceroute from Kenya network to Japan using primary static route:
```
C:\>tracert 192.168.20.2

Tracing route to 192.168.20.2 over a maximum of 30 hops: 

  1   0 ms      0 ms      0 ms      192.168.10.1
  2   0 ms      0 ms      0 ms      10.10.10.2
  3   0 ms      0 ms      0 ms      20.20.20.2
  4   0 ms      0 ms      0 ms      30.30.30.1
  5   0 ms      0 ms      0 ms      192.168.20.2

Trace complete.
```

### Task 4 - Disable primary path & test comms: ping + traceroute
+ Note: 
  + For the backup floating static route to work, both the KEN & JPN primary links need to be shutdown.
  + Before shutting down the links, check the routes with `do sh ip route`, and compare with the routes after shutting down the links with the same command.

**Router KEN**
! Shutdown primary link and route
int g0/1
shutdown
exit

do sh ip route

!Restore Primary link and route
int g0/1
no sh

**Router JPN**
! Shutdown primary link and route
int g0/1
shutdown
exit

do sh ip route

!Restore Primary link and route
int g0/1
no sh

+ Traceroute from Kenya network to Japan using secondary/backup route:

```
C:\>tracert 192.168.20.2

Tracing route to 192.168.20.2 over a maximum of 30 hops: 

  1   0 ms      0 ms      0 ms      192.168.10.1
  2   0 ms      0 ms      0 ms      40.40.40.2
  3   0 ms      0 ms      0 ms      50.50.50.1
  4   0 ms      0 ms      0 ms      192.168.20.2

Trace complete.
```