# Routing - Configure Dedicated DHCP, DNS, & Web Servers

## Tasks
1. Create VLAN topology in Packet Tracer & Basic Router/Switch/Endpoint (enable DHCP) Configuration.
2. Config Router Interface IP (10.10.10.0/24) & Server static IPs.
3. DHCP Server - Define IP Pools, Subnet Mask, Default Gateway, DNS Server, & IP Pool.
4. Config DNS Server to translate web server IP to cybersec.com
5. Modify index.html on web server.
6. Test accessing web server & communication. 


## Configuration Commands
### Task 1 + 2 - Basic Switch, Router, Endpoint, VLAN, & Trunk Config

**Switch 0 - Data Centre**
```
! Basic Config
conf t
hostname SW-DCentre
ban motd ^Unauthorised Access is Prohibited. All Activity is Logged.^
enable password cisco123
service password-encryption
no ip domain-lookup
ip domain-name cybersec.com

vlan 999
name blackhole
exit

! Secure Unused Ports
int range f0/5-24, g0/2
switchport mode access
switchport access vlan 999
shutdown
exit


! Configure Trunk to Office Switch
int g0/1
switchport mode trunk
! Security - Deny VLAN 999 on trunk link
switchport trunk allowed vlan except 999
exit
do sh int trunk


! Additional Security - Port Security
int range f0/1-3
switchport mode access
switchport port-security
switchport port-security maximum 1
! Define the mac address permitted to access the port/interface
switchport port-security mac-address sticky
switchport port-security violation restrict
exit

do sh port-security

do wr
```

**Switch 1 - Office Network**
```
! Basic Config
conf t
hostname SW-Office
ban motd ^Unauthorised Access is Prohibited. All Activity is Logged.^
enable password cisco123
service password-encryption
no ip domain-lookup
ip domain-name cybersec.com


vlan 999
name blackhole
exit

! Secure Unused Ports
int range f0/5-24
switchport mode access
switchport access vlan 999
shutdown
exit

! Configure Trunk to Router + Server Switch
int range g0/1-2
switchport mode trunk
! Security - Deny VLAN 999 on trunk link
switchport trunk allowed vlan except 999
exit
do sh int trunk

! Additional Security - Port Security
int range f0/1-4
switchport mode access
switchport port-security
switchport port-security maximum 1
! Define the mac address permitted to access the port/interface
switchport port-security mac-address sticky
switchport port-security violation restrict
exit

do sh port-security

do wr
```


**Router 0**
```
! Router Config
conf t
hostname R0
enable password cisco123
service password-encryption
ban motd ^Unauthorised Access is Prohibited. All Activity is Logged.^
ip domain-name cybersec.com
username admin password password123
int g0/0
description Link to Internal Network
ip add 10.10.10.1 255.255.255.0
no sh
exit

! Config SSH Access
! Enable SSH with 1024-bit keys, set domain (for key generation), and force SSHv2
! Timeout authentication process (default 120)
crypto key generate rsa general-keys modulus 1024 
ip ssh version 2 
ip ssh time-out 60

! Config VTY SSH Access
line vty 0 15
! Specify authentication based on local db
login local
! Only permit SSH (no Telnet)
transport input ssh
exit

! Create Standard Numbered ACL list to allow IT Admin PC
access-list 10 permit host 10.10.10.10
access-list 10 deny any
! Bind the ACL to VTY 
line vty 0 15
! Allow incoming traffic on access-list 10
access-class 10 in
exit

do sh ip int br


do wr
```

### Task 3 - DHCP Server: Define IP Pools, Subnet Mask, Default Gateway, DNS Server, & IP Pool.

### Task 4 - Config DNS Server web server IP to cybersec.com
Name: cybersec.com
Record Type: A Record
Address: 10.10.10.4


### Task 6 - Test Web Server Access & Comms
+ Successful web server access
+ Endpoint PC `nslookup cybersec.com` confirmed correct DNS lookup